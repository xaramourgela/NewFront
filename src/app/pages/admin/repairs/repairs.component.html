<div>
  <div>
    <app-navbar></app-navbar>
  </div>
  <div class="content">
    <div class="title-button-container">
      <h2 class="title">Pending repairs</h2>

      <div class="button-container">
        <button 
          routerLink="/create-repair"
          routerLinkActive="activebutton"
          ariaCurrentWhenActive="page">
          Create Repair
        </button>
        <button
          routerLink="repair-search"
          routerLinkActive="activebutton"
          ariaCurrentWhenActive="page">
          Search Repair
        </button>
      </div>
    </div>
  
    <div class="container">
      <div class="row">
        <table class="table">
          <thead>
            <tr>
              <th>Repair Id</th>
              <th>Owner Vat</th>
              <th>Property Id</th>
              <th>Address</th>
              <th>Type</th>
              <th>Description</th>
              <th>Cost</th>
              <th>Repair Date</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody>
            <ng-container *ngIf="propertyRepairs && propertyRepairs.length > 0">
              <ng-container *ngFor="let repair of propertyRepairs">
                <tr *ngIf="repair.status === 'Pending'">
                  <td>{{repair.id}}</td>
                  <td>{{repair.vat}}</td>
                  <td>{{repair.propertyItemId}}</td>
                  <td>{{repair.address}}</td>
                  <td>{{repair.typeOfRepair}}</td>
                  <td>{{repair.description}}</td>
                  <td>{{repair.cost}}</td>
                  <td>{{ userFriendlyDate(repair.repairDate.toString()) }}</td>
                  <td>{{repair.status}}</td>
                </tr>
              </ng-container>
            </ng-container>
          </tbody>
        </table>
        <p *ngIf="!hasPendingRepairs()">No property repairs pending.</p>
      </div>
    </div> <!-- Κλείσιμο του div για την "container" -->
  </div>
</div> <!-- Κλείσιμο του εξωτερικού div -->
